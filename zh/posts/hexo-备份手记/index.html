<!doctype html><html dir=ltr lang=zh data-theme><head><title>Amao Three
|
Hexo 备份手记</title><meta charset=utf-8><meta name=generator content="Hugo 0.84.4"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      天下有大勇者，卒然临之而不惊，无故加之而不怒；此其所挟持者甚大，而其志甚远也。--苏轼


    "><link rel=stylesheet href=/css/main.min.63415010da0fb95ab09d338a70fe53cc66ba8308019c0dcb69c3b266edfb3d70.css integrity="sha256-Y0FQENoPuVqwnTOKcP5TzGa6gwgBnA3LacOyZu37PXA=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.f798cbda9aaa38f89eb38be6414bd082cfd71a6780375cbf67b6d2fb2b96491e.css integrity="sha256-95jL2pqqOPies4vmQUvQgs/XGmeAN1y/Z7bS+yuWSR4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=/zh/posts/hexo-%E5%A4%87%E4%BB%BD%E6%89%8B%E8%AE%B0/><script type=text/javascript src=/js/anatole-header.min.2a2cd9614b7d007dfbb75e8da19e3a0fa872ceab53c6d000c00b7a0c89b85bfc.js integrity="sha256-KizZYUt9AH37t16NoZ46D6hyzqtTxtAAwAt6DIm4W/w=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Hexo 备份手记"><meta name=twitter:description content="由于hexo只是将生成的静态页面推到github的io仓库里，这就导致了，如果你有一天想要异地更新博客，或者换机后也能更新博客，就必须要将本地的框架做数据备份，否则一旦丢失，是非常头疼的问题，99%是不能恢复成以前的博客了。
做数据备份，往往都是物理上的或者云上的。物理上的便是复制整个文件夹到移动硬盘或者U盘随身带着。这些东西我并不少，但是总是个累赘，还有物理上的可能性损伤造成的数据丢失。或者就放到某个云盘上，还可以自动同步，只可惜作为ArchLinux为主系统的用户，本人常用的onedrive并不在该系统上提供官方服务，第三方的bin也无法做的实时检测文件更新并同步。
那么既然自动化无望，无论如何都要定期手动备份，那我还是将整体作为项目放到github的仓库里吧。下边便是我做成之后写下的记录，也算是分享（虽然网上也是一大把这种教程）。"></head><body><header><div class="page-top
animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><nav><ul class=nav__list id=navMenu><div class=nav__links><li><a href=/zh/ title>主页</a></li><li><a href=/zh/posts/ title>文章</a></li><li><a href=/zh/about/ title>关于我</a></li><li><a href=/zh/ title=中文>中文</a></li><li><a href=/en/ title=EN>EN</a></li></div><li><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></nav></div></header><div class=wrapper><aside><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=logo-title><div class=title><img src=/images/profile.jpg alt="profile picture"><h3 title><a href=/>阿毛的随便写写</a></h3><div class=description><p>天下有大勇者，卒然临之而不惊，无故加之而不怒；此其所挟持者甚大，而其志甚远也。--苏轼</p></div></div></div><ul class=social-links><li><a href=https://www.linkedin.com/in/yuehao-sui/ rel=me aria-label=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/amaothree rel=me aria-label=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://www.instagram.com/yoohoo.samuel/ rel=me aria-label=instagram><i class="fab fa-instagram fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:ihidemyname@outlook.com rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer--sidebar"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;
2019-2021</li></ul></div></footer><script type=text/javascript src=/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I=" crossorigin=anonymous></script></div></aside><main><div class=autopagerize_page_element><div class=content><div class="post
animated fadeInDown"><div class=post-content><div class=post-title><h1>Hexo 备份手记</h1></div><p>由于hexo只是将生成的静态页面推到github的io仓库里，这就导致了，如果你有一天想要异地更新博客，或者换机后也能更新博客，就必须要将本地的框架做数据备份，否则一旦丢失，是非常头疼的问题，99%是不能恢复成以前的博客了。</p><p>做数据备份，往往都是物理上的或者云上的。物理上的便是复制整个文件夹到移动硬盘或者U盘随身带着。这些东西我并不少，但是总是个累赘，还有物理上的可能性损伤造成的数据丢失。或者就放到某个云盘上，还可以自动同步，只可惜作为ArchLinux为主系统的用户，本人常用的onedrive并不在该系统上提供官方服务，第三方的bin也无法做的实时检测文件更新并同步。</p><p>那么既然自动化无望，无论如何都要定期手动备份，那我还是将整体作为项目放到github的仓库里吧。下边便是我做成之后写下的记录，也算是分享（虽然网上也是一大把这种教程）。</p><p>首先正如很多同志们说的那样，新建一个repo来备份实在是有所浪费，还是在原有io的repo建立一个分支最佳。</p><h3 id=需要注意的是><strong>需要注意的是</strong></h3><blockquote><ul><li>我的教程是写在一种 &ldquo;已经开始写博客了,中途需要备份&rdquo; 的情况下,因此有些步骤或许会和“从0开始建立博客并备份”的情况有所不同。但是稍微有所经验的同志们应该会自我调整步骤顺序，都是大同小异的东西。</li><li>本文命令环境皆在linux->zsh 下。其中多数命令多平台通用，少数类似cd命令，请根据自己情况进行更改。</li></ul></blockquote><h3 id=步骤如下>步骤如下</h3><ol><li>将你的XXXX.github.io仓库先clone下来到一个位置(比如Blog文件夹)。</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh>mkdir ./Blog
cd ./Blog
git clone xxxxxxxxxxxxxxxxxx
</code></pre></div><ol start=2><li>创建并切换进新分支，名字随意，下文以hexo为例</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh>git checkout -b hexo
</code></pre></div><ol start=3><li><p>（这一步可以进入文件管理器进行）现在删除除.git文件夹外，所有clone下来的文件。<strong>注意千万不要删除了.git文件夹！否则请回到第一步。</strong></p></li><li><p>将之前的Hexo文件夹中的_config.yml，themes/，source，scffolds/，package.json，.gitignore复制到你克隆下来的仓库文件夹。</p></li><li><p>删除你所用的themes里的.git文件夹，比如themes/next/.git，请细细检查每一个主题的目录，里面的.git统统不要！</p></li><li><p>执行下面命令</p></li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh>npm install hexo-cli -g <span style=color:#75715e>#如果之前没有执行过这个全局命令，比如你是在webstorm里面管理你的博客的，请执行这一步。</span>
npm install
npm install hexo-deployer-git
</code></pre></div><ol start=7><li>测试新目录博客是否可用</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh>hexo g
hexo s
hexo clean
</code></pre></div><ol start=8><li>push仓库到github上</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh>git add -A
git commit -m <span style=color:#e6db74>&#34;Backup&#34;</span>
git push origin hexo
</code></pre></div><ol start=9><li><p>打开github检查是否hexo分支推成功了，并且将hexo分支设置为默认分支（在repo的setting里修改）。</p></li><li><p>结束，以后就在这个目录下写博客就好了。</p></li></ol><p>{% img <a href=https://i0.hdslb.com/bfs/album/db44bbad92b92f66f378bb2b8de97ff6b99ccef0.jpg>https://i0.hdslb.com/bfs/album/db44bbad92b92f66f378bb2b8de97ff6b99ccef0.jpg</a> Aqua&Mea%}</p></div><div class=post-footer><div class=info><span class=separator><a class=tag href=/zh/tags/blog/>Blog</a><a class=tag href=/zh/tags/hexo/>Hexo</a><a class=tag href=/zh/tags/git/>Git</a></span></div></div></div></div></div></main></div><footer class="footer footer--base"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;
2019-2021</li></ul></div></footer><script type=text/javascript src=/js/medium-zoom.min.71100d84fab0ad794b8399a66ac810700cc78d703f715dc10af4d7ba7b761362.js integrity="sha256-cRANhPqwrXlLg5mmasgQcAzHjXA/cV3BCvTXunt2E2I=" crossorigin=anonymous></script></body></html>